/*!CK:816562086!*//*1441157688,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["G1s7G"]); }

__d('MessengerSearchSource',['ChatSearchSource','MercuryIDs','MercuryParticipants','MercuryParticipantTypes','MercurySingletonMixin','MessengerConfig','OrderedFriendsList','SearchableEntry','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;'use strict';var s=50;q=babelHelpers.inherits(t,h);r=q&&q.prototype;function t(u){r.constructor.call(this,{queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});n.getSearchableEntries(s,(function(w){this.$MessengerSearchSource1=w;r.addLocalEntries.call(this,w);}).bind(this));var v=i.getParticipantIDFromUserID(u);j.get(v,(function(w){r.addLocalEntries.call(this,[new o({uniqueID:w.fbid.toString(),title:w.name,type:k.FRIEND,photo:w.big_image_src||w.image_src,uri:w.href,auxiliaryData:{isMessengerUser:w.is_messenger_user}})]);}).bind(this));}t.prototype.bootstrapImpl=function(u){r.bootstrapImpl.call(this,p);u();};t.prototype.searchImpl=function(u,v,w){w=w||{};if(u===''&&w.showDefaultEntries){v(this.$MessengerSearchSource1,u);var x=w&&w.onQueryFinished;x&&x(u);return;}w.threadLimit=m.MaxThreadResults;r.searchImpl.call(this,u,v,w);};Object.assign(t,l);f.exports=t;},null);